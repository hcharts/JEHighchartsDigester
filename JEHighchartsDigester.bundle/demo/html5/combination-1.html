<!DOCTYPE HTML>
<html>
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
            <title>Highcharts Example</title>
            <script type="text/javascript" src="../../js/jquery-1.9.0.js"></script>
            <script type="text/javascript">
                function combinationPlotFill(columnData, pieData, columnX) {
                    var chart = $('#container').highcharts(),
                    inCome = columnData,
                    lenObj = inCome.length,
                    series1 = [],
                    series2 = [];
                    
                    chart.series[0].setData(inCome, true);
                    chart.series[1].setData(pieData, true);
                    chart.xAxis[1].setCategories(columnX, true);
                }
            
            function mytitlePosition() {
                return $('#container').height() * 0.25;
            }
            
            
            function diameter() {
                if ($("#container").width() * 3 / 5 < $("#container").height() / 2) {
                    return $("#container").width() * 7 / 10;
                } else {
                    return 230;
                }
            }
            
            function innerDiameter() {
                if ($("#container").width() * 3 / 5 < $("#container").height() / 2) {
                    return $("#container").width() * 1 / 3;
                } else {
                    return 120;
                }
            }
            
            function distance() {
                if ($(document).height() < $(document).width()) {
                    return -25;
                } else {
                    return -25;
                }
            }
            
            $(function() {
              
              $("#container").height($(document).height()*98/100);
              $("#container").width($(document).width()*98/100);
              
              
              $('#container').highcharts({
                                         
                                         title: {
                                         text: '报警总数<br>2015',
                                         align: 'center',
                                         y: mytitlePosition(),
                                         x: 0,
                                         dy: 30
                                         },
                                         
                                         
                                         yAxis: [
                                                 
                                                 { // Primary yAxis
                                                 top: 0,
                                                 height: $("#container").height() / 2,
                                                 title: {
                                                 text: ''
                                                 },
                                                 min: 0
                                                 }, { // Secondary yAxis
                                                 top: $("#container").height() * 63.5 / 100,
                                                 // min: 0,
                                                 height: $("#container").height() * 31.5 / 100,
                                                 //                bottom: 100,
                                                 title: {
                                                 text: '',
                                                 style: {
                                                 color: '#4572A7'
                                                 }
                                                 }
                                                 
                                                 }
                                                 ],
                                         
                                         tooltip: {
                                         pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                                         },
                                         plotOptions: {
                                         pie: {
                                         allowPointSelect: true,
                                         cursor: 'pointer',
                                         dataLabels: {
                                         enabled: true,
                                         distance: distance()
                                         },
                                         showInLegend: false,
                                         point: {
                                         events: {
                                         legendItemClick: function(e) {
                                         e.preventDefault();
                                         }
                                         }
                                         }
                                         },
                                         
                                         column: {
                                         width: 10,
                                         height: 10,
                                         depth: 10,
                                         showInLegend: false,
                                         marker: {
                                         enabled: false,
                                         symbol: 'circle',
                                         radius: 2,
                                         states: {
                                         hover: {
                                         enabled: true
                                         }
                                         }
                                         }
                                         }
                                         
                                         },
                                         
                                         series: [{ //柱状图
                                                  type: 'column',
                                                  name: 'Jane',
                                                  yAxis: 1,
                                                  //     xAxis: 1,
                                                  data: []
                                                  },
                                                  
                                                  
                                                  { //饼
                                                  yAxis: 0,
                                                  type: 'pie',
                                                  options3d: {
                                                  enabled: false,
                                                  alpha: 45
                                                  },
                                                  name:"占比",
                                                  //    align: 'top',
                                                  colorByPoint: true,
                                                  center: [$("#container").width()/2-innerDiameter()/2, "15%"],
                                                  size: diameter(),
                                                  innerSize: innerDiameter(),
                                                  data: []
                                                  }
                                                  ]
                                         });
              });
              
                </script>
            </head>
    
    <body height="100%">
        <script src="../../js/highcharts/highcharts.js"></script>
        <div id="container" height="100% !important; " style="min-width: 100%; min-height:100%; !important; "></div>
    </body>
    
</html>
