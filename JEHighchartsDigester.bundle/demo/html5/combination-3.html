<!DOCTYPE HTML>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>

    <script type="text/javascript" src="../../js/jquery-1.9.0.js"></script>
    <script type="text/javascript">
      function billPlotFill(billsdata, allbill, payed) {

        var chart = $('#container').highcharts(),
          inCome = billsdata,
          lenObj = inCome.length,
          series1 = [],
          series2 = [];
        chart.series[0].setData(inCome, true);

        if (payed === true) {
          $("#pay").attr("src", "resources/icon_utility_payed.png");
        } else {
          $("#pay").attr("src", "resources/icon_utility_unpay.png");
        }


        $(".highcharts-title tspan").eq(2).text(allbill);

      }


      function mytitlePosition() {
        return $("#container").height() * 0.5 * 0.7;
      }

      function distance() {
        if ($(document).height() < $(document).width()) {
          return -$(document).height() / 8.5;
        } else {
          return -$(document).width() / 8.5;
        }
      }


      $(function() {
        $(document).ready(function() {

          $("#container").height($(document).height());
          $("#container").width($(document).width());
          // Build the chart
          $('#container').highcharts({

            title: {
              text: '本月账单<br>￥<a>273.5',
              align: 'center',
              y: mytitlePosition(),
              dy: 30
            },

            yAxis: [

              { 
                title: {
                  text: '',
                  style: {
                    color: '#4572A7'
                  }
                }

              }
            ],

            tooltip: {
              pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
              pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                  enabled: true,
                  distance: distance(),
                  format: '￥{point.y}',
                  style: {
                    fontWeight: 'normal',
                    color: 'white',
                    textShadow: null
                  }
                },
                point: {
                  events: {
                    legendItemClick: function(e) {
                      e.preventDefault();
                    }
                  }
                },
                showInLegend: true
              },

              spline: {
                width: 10,
                height: 10,
                depth: 10
              },


            },

            legend: {

              symbolHeight: 10,
              symbolWidth: 10,
              symbolRadius: 5,

              itemStyle: {
                fontWeight: 'normal',
              }

            },


            series: [{
              type: 'pie',
              options3d: {
                enabled: false,
                alpha: 45
              },

              colorByPoint: true,
              center: ["50%", "35%"],
              size: "90%",
              innerSize: '50%',
              data: [
                ['物业费', 23.5],
                ['小区管理费', 13.5],
                ['车辆监督', 17.5],
                ['公摊啊费', 3.5],
                ['垃圾清理', 5.5],
                ['其它费用', 7.5]
              ]
            }]
          });


          $(".highcharts-title tspan").eq(0).css('font-size', '10px');
          $(".highcharts-title tspan").eq(1).css('font-size', '20px');
          $(".highcharts-title tspan").eq(2).css('font-size', '30px');
          $(".highcharts-title tspan").eq(1).attr('dy', 30);

        });



      });

    </script>
  </head>

  <body height="100%" style="zoom: 1;margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;">
    <script src="../../js/highcharts/highcharts.js"></script>
    <div> <img id="pay" src="resources/icon_utility_payed.png" style="width:96px; height:73px; float: right; position:absolute;z-index:1; right: 0; padding-top: 0px;" /></div>
    <div id="container" height="100% !important; " style="min-width: 100%; min-height:100%; !important; z-index:0 ">
    </div>

  </body>

</html>
