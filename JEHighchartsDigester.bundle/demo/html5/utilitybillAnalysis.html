<!DOCTYPE HTML>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>
    <style type="text/css">

    #container {
        background:  #ebebeb;
    }

    </style>

    <script type="text/javascript" src="../../js/jquery-1.9.0.js"></script>
    <script type="text/javascript">
      function billPlotFilled(billsdata, allbill, payed) {

        var chart = $("#container").highcharts(),
          inCome = billsdata,
          lenObj = inCome.length,
          series1 = [],
          series2 = [];
        chart.series[0].setData(inCome, true);
        chart.series[1].hide();


        $("#pay").show();
        
        if (payed === true) {
          $("#pay").attr("src", "resources/icon_utility_payed.png");
        } else {
          $("#pay").attr("src", "resources/icon_utility_unpay.png");
        }

        $(".highcharts-title tspan").eq(2).css('font-size', '30px');

        $(".highcharts-title tspan").eq(0).text("本月账单");
        $(".highcharts-title tspan").eq(1).text("￥");
        $(".highcharts-title tspan").eq(2).text(allbill);
        
        

      }


      function mytitlePosition() {
        return $("#container").height() * 0.5 * 0.65;
      }

      function distance() {
        if ($(document).height() < $(document).width()) {
          return -$(document).height() / 8.5;
        } else {
          return -$(document).width() / 8.5;
        }
      }



function pWidth() {
    return $("#container").width()*0.7;
}

      $(function() {
        $(document).ready(function() {

          $("#container").height($(document).height());
          $("#container").width($(document).width());
          $("#container").highcharts({

            title: {
              text: '账单<br>￥<a>暂无记录',
              align: 'center',
              y: mytitlePosition(),
              dy: 30
            },

            chart: {
             backgroundColor: 'transparent'
            },

            colors: ['#63b8fa', '#ffc444', '#fb8800', '#fe6869', '#41d9a1', '#4aa4e9', '#ffb244', '#fb7600', '#b048f2', '#f94c4d', '#14d18c'],

            yAxis: [

              { 
                title: {
                  text: '',
                  style: {
                    color: '#4572A7'
                  }
                }

              }
            ],

            tooltip: {
              pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
              pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                borderWidth:0,
                dataLabels: {
                  enabled: true,
                  distance: distance(),
                  format: '￥{point.y}',
                  style: {
                    fontWeight: 'normal',
                    color: 'white',
                    textShadow: null
                  }
                },
                point: {
                  events: {
                    legendItemClick: function(e) {
                      e.preventDefault();
                    }
                  }
                },
                showInLegend: true
              },

              spline: {
                width: 10,
                height: 10,
                depth: 10
              },


            },

            legend: {

              symbolHeight: 10,
              symbolWidth: 10,
              symbolRadius: 5,

              itemStyle: {
                fontWeight: 'normal',
              }

            },


            series: [{
              type: 'pie',
             // enableMouseTracking: false,
              options3d: {
                enabled: false,
                alpha: 45
              },
              name:"占比",
              colorByPoint: true,
              center: ["50%", "35%"],
              size: pWidth(),
              innerSize: '50%',
              data: [
            //   ['物业费', 23.5]
              ]
                     },
                     {
                     type: 'pie',
                     enableMouseTracking: false,
                     options3d: {
                     enabled: false,
                     alpha: 45
                     },
                     name:"占比",
                     colorByPoint: true,
                     center: ["50%", "35%"],
                     size: pWidth(),
                     innerSize: '50%',
                     data: [
                            //   ['物业费', 23.5]
                            ]
                     }]
          });


          $(".highcharts-title tspan").eq(0).css('font-size', '12px');
          $(".highcharts-title tspan").eq(0).css('fill', "#999999");
          $(".highcharts-title tspan").eq(1).css('fill', "#252525");
          $(".highcharts-title tspan").eq(2).css('fill', "#252525");
          $(".highcharts-title tspan").eq(1).css('font-size', '20px');
          $(".highcharts-title tspan").eq(2).css('font-size', '20px');
          $(".highcharts-title tspan").eq(1).attr('dy', 50);
                          
                          
                          
          $("#container").highcharts().series[1].setData([['1', 1]], true);
          $("#pay").hide();
          $(".highcharts-title tspan").eq(1).text(" ");
          $(".highcharts-data-labels").hide();
          $(".highcharts-legend-item").hide();
                       
          $(".highcharts-series path").eq(0).css('fill', "#dddddd");
        //  pick($("#container").highcharts().options.enableMouseTracking, true);
          chart.series[1].show();
          chart.series[0].hide();
        });



      });

    </script>
  </head>

  <body height="100%" style="zoom: 1;margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;">
    <script src="../../js/highcharts/highcharts.js"></script>
    <div> <img id="pay" style="width:96px; height:73px; float: right; position:absolute;z-index:1;right: 0; padding-top: 0px; padding-right: 20px;" /></div>
    <div id="container" height="100% !important; " style="min-width: 100%; min-height:100%; !important; z-index:0 ">
    </div>

  </body>

</html>
